(window.webpackJsonp=window.webpackJsonp||[]).push([[4,3],{304:function(t,e,r){var content=r(306);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(85).default)("957c8e72",content,!0,{sourceMap:!1})},305:function(t,e,r){"use strict";r(304)},306:function(t,e,r){var n=r(84)((function(i){return i[1]}));n.push([t.i,".list_res[data-v-349c078b]{background-color:#fff;border:1px solid #ccc;border-radius:0 0 10px 10px;border-top:0;height:-moz-fit-content;height:fit-content;left:0;list-style-type:none;padding-left:0;position:absolute;top:39px;width:100%;z-index:10}.list_res.scroll[data-v-349c078b]{height:350px;overflow-y:scroll}.list_res .coin[data-v-349c078b]{cursor:pointer;font-size:16px;padding:5px}.list_res .coin[data-v-349c078b]:not(:first-of-type){border-top:1px solid #ccc}[data-v-349c078b]::-webkit-scrollbar{width:.35rem}[data-v-349c078b]::-webkit-scrollbar-thumb{background-color:rgba(27,27,27,.4);border-radius:3px}[data-v-349c078b]::-webkit-scrollbar-track{background:transparent}#navbar[data-v-349c078b]{width:100vw}#scroll[data-v-349c078b]{opacity:.7}",""]),n.locals={},t.exports=n},308:function(t,e,r){var content=r(337);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(85).default)("377fc514",content,!0,{sourceMap:!1})},309:function(t,e,r){"use strict";r.r(e);var n={props:{searchResult:{type:Array,default:function(){return[]}}},computed:{scroll:function(){return this.searchResult.length>10}}},c=(r(305),r(65)),component=Object(c.a)(n,(function(){var t=this,e=t._self._c;return e("div",[e("ul",{staticClass:"list_res",class:{scroll:t.scroll}},t._l(t.searchResult,(function(r,n){return e("li",{key:n,staticClass:"coin",on:{click:function(e){return t.$emit("setTicker",r)}}},[t._v("\n      "+t._s(r.FullName)+"\n    ")])})),0)])}),[],!1,null,"349c078b",null);e.default=component.exports},336:function(t,e,r){"use strict";r(308)},337:function(t,e,r){var n=r(84)((function(i){return i[1]}));n.push([t.i,".row div[data-v-8b3fef4e]{border:1px solid red;border-radius:10px}.row div.selected[data-v-8b3fef4e]{border:2px solid #000}section[data-v-8b3fef4e]{margin:100px 0}.first-row[data-v-8b3fef4e]{display:flex;position:relative}.first-row .search[data-v-8b3fef4e]{width:100%}.second-row .ticker[data-v-8b3fef4e]{position:relative}.second-row .ticker .fix[data-v-8b3fef4e]{position:absolute;right:4px;top:4px}.second-row .ticker .fix.unpin[data-v-8b3fef4e]{background-color:green}.graph[data-v-8b3fef4e]{grid-gap:3px;align-items:flex-end;border-bottom:1px solid #000;border-left:1px solid #000;display:flex;height:200px;padding-left:3px;width:100%}.graph .bar[data-v-8b3fef4e]{background-color:#000;min-height:10px;width:2.5rem}",""]),n.locals={},t.exports=n},338:function(t,e,r){"use strict";r.r(e);r(44),r(16),r(36),r(71),r(72);var n=r(133);var c=r(191),o=r(108);function l(t){return function(t){if(Array.isArray(t))return Object(n.a)(t)}(t)||Object(c.a)(t)||Object(o.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var f,d=r(27),h=(r(70),r(91),r(50),r(52),r(310),r(311),r(86),r(33),r(34),r(313),r(146),r(1)),v=r(83),k=(r(314),r(37),r(321),r(322),r(324),r(325),r(326),r(327),r(329),r(330),r(331),r(332),r(333),r(334),r(335),r(38),new Map),_=function(t,e){var r=JSON.stringify({action:e,subs:["5~CCCAGG~".concat(t,"~USD")]});f&&1===f.readyState&&f.send(r),f&&f.addEventListener("open",(function(){f.send(r)}))},x=function(t,e){var r=k.get(t,[])||[];k.set(t,[].concat(l(r),[e])),_(t,"SubAdd")};function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(d.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}(f=new WebSocket("wss://streamer.cryptocompare.com/v2?api_key=".concat("d580e57d5249755e75ac50f672d6a99a3b607971503abb8373efd9ecc6039ac6")))&&f.addEventListener("message",(function(t){var e=JSON.parse(t.data),r=e.TYPE,n=e.PRICE,c=e.FROMSYMBOL;"5"===r&&n&&(k.get(c)||[]).forEach((function(t){return t(n)}))}));var w={name:"IndexPage",data:function(){return{page:this.$route.query.page?+this.$route.query.page:1,ticker:null,tickers:[],sel:null,graph:[],matchingTicker:null,error:null,fixed_tickers:[],tickers_on_page:6,filter:this.$route.query.filter?this.$route.query.filter:"",count_bar_graph:null}},computed:y(y({},Object(v.c)({getCoinsList:"coins/getCoinsList",getFixedTickers:"fixed_tickers/getFixedTickers"})),{},{maxPage:function(){return Math.ceil(this.tickers.length/this.tickers_on_page)},startIndex:function(){return this.endIndex-this.tickers_on_page},endIndex:function(){return this.page*this.tickers_on_page},filterTickers:function(){var t=this;return this.tickers.filter((function(e){return e.ticker.includes(t.filter)}))},paginatedTickers:function(){return this.filterTickers.slice(this.startIndex,this.endIndex)},pageStateOptions:function(){return{page:this.page,filter:this.filter}},normalizeGraph:function(){var t=Math.max.apply(Math,l(this.graph)),e=Math.min.apply(Math,l(this.graph));return this.graph.map((function(r){return 100*(r-e)/(t-e)}))},isNext:function(){return this.page<this.maxPage},isPrev:function(){return this.page>1}}),watch:{ticker:function(){var t=this;this.ticker?this.matchingTicker=Object.values(this.getCoinsList).filter((function(element){return element.FullName.toLowerCase().trim().includes(t.ticker.toLowerCase())})):this.matchingTicker=[]},pageStateOptions:function(t){var e="";t.filter&&t.page>1?e="?filter=".concat(t.filter,"&page=").concat(t.page):t.page>1&&!t.filter?e="?page=".concat(t.page):t.filter&&1===t.page&&(e="?filter=".concat(t.filter)),history.pushState({},"","".concat(location.origin).concat(e))},filter:function(){this.page=1},sel:function(t){t&&this.countBar()}},created:function(){this.$store.dispatch("coins/fetchCoinsList"),this.updateLocalStorage()},mounted:function(){var t=this;this.setData(),window.addEventListener("resize",this.countBar),this.tickers.forEach((function(e){var r=e.ticker;x(r,(function(e){return t.updateTickers(r,e)}))}))},methods:y(y({},Object(v.b)({updateLocalStorage:"fixed_tickers/updateLocalStorage"})),{},{setData:function(){var t,e,r,n;localStorage&&localStorage.fixed_tickers&&((t=this.tickers).push.apply(t,l(JSON.parse(null===(e=localStorage)||void 0===e?void 0:e.fixed_tickers))),(r=this.fixed_tickers).push.apply(r,l(JSON.parse(null===(n=localStorage)||void 0===n?void 0:n.fixed_tickers))))},add:function(){var t=this,e={ticker:this.ticker.toUpperCase(),price:"-"};this.tickers.push(e),x(e.ticker,(function(r){return t.updateTickers(e.ticker,r)})),this.ticker=null},updateTickers:function(t,e){this.tickers.filter((function(e){return e.ticker===t})).forEach((function(t){t.price=e})),this.drawGraph(t,e)},drawGraph:function(t,e){var r,n;(null===(r=this.sel)||void 0===r?void 0:r.ticker)!==t.ticker&&(null===(n=this.sel)||void 0===n?void 0:n.Symbol)!==t.ticker||(this.graph.push(e),this.graph.length>=this.count_bar_graph&&this.graph.shift())},countBar:function(){var t=this;Object(h.b)((function(){t.$refs.graph&&(t.count_bar_graph=Math.round(t.$refs.graph.clientWidth/40))}))},deleteTicker:function(t){var e;this.tickers=this.tickers.filter((function(e){return e!==t})),e=t.ticker,k.delete(e),_(e,"SubRemove"),this.sel=null},selectedTicker:function(t){this.sel!==t&&(this.sel=t,this.graph=[],this.countBar())},setTicker:function(t){this.sel=t,this.ticker=t.Symbol,this.add(),this.graph=[]},fixTicker:function(t,e){this.fixed_tickers.find((function(e){return e.ticker===t.ticker}))?(this.fixed_tickers.splice(e,1),localStorage.fixed_tickers=JSON.stringify(this.fixed_tickers),this.updateLocalStorage()):(this.fixed_tickers.push(t),localStorage.fixed_tickers=JSON.stringify(this.fixed_tickers),this.updateLocalStorage())},nextPage:function(){this.page<=this.maxPage&&this.page++},prevPage:function(){this.page>1&&this.page--},formattingPrice:function(t){return"-"===t?"-":t}})},O=(r(336),r(65)),component=Object(O.a)(w,(function(){var t,e=this,r=e._self._c;return r("div",{staticClass:"container"},[r("section",{staticClass:"first-row"},[r("div",{staticClass:"search"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.ticker,expression:"ticker"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.ticker},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.add.apply(null,arguments)},input:function(t){t.target.composing||(e.ticker=t.target.value)}}}),e._v(" "),null!==(t=e.matchingTicker)&&void 0!==t&&t.length?r("app-coins-result",{attrs:{"search-result":e.matchingTicker},on:{setTicker:e.setTicker}}):e._e()],1),e._v(" "),r("div",{staticClass:"btn btn-info",on:{click:e.add}},[e._v("search")]),e._v(" "),r("span",{staticClass:"error"},[e._v(e._s(e.error))])]),e._v(" "),r("section",{staticClass:"second-row row"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.filter,expression:"filter"}],attrs:{type:"text"},domProps:{value:e.filter},on:{input:function(t){t.target.composing||(e.filter=t.target.value)}}}),e._v(" "),e._l(e.paginatedTickers,(function(t,n){var c;return r("div",{key:n,staticClass:"ticker col-md-4 col-6",class:{selected:t.ticker===(null===(c=e.sel)||void 0===c?void 0:c.ticker)},on:{click:function(r){return e.selectedTicker(t)}}},[r("h2",[e._v(e._s(t.ticker)+" to USD")]),e._v(" "),r("p",[e._v(e._s(e.formattingPrice(t.price)))]),e._v(" "),r("button",{on:{click:function(r){return r.stopPropagation(),e.deleteTicker(t)}}},[e._v("delete")]),e._v(" "),r("div",{staticClass:"fix",on:{click:function(r){return e.fixTicker(t,n)}}},[e._v("zakr")])])})),e._v(" "),e.isNext?r("div",{staticClass:"next",on:{click:function(t){return e.nextPage()}}},[e._v("next")]):e._e(),e._v(" "),e.isPrev?r("div",{staticClass:"prev",on:{click:function(t){return e.prevPage()}}},[e._v("prev")]):e._e()],2),e._v(" "),e.sel?r("section",{staticClass:"third-row"},[r("div",{staticClass:"graph-wrp"},[r("h2",[e._v(e._s(e.sel.ticker||e.sel.Symbol)+" to USD")]),e._v(" "),r("div",{ref:"graph",staticClass:"graph"},e._l(e.normalizeGraph,(function(t,e){return r("div",{key:e,staticClass:"bar",style:{height:"".concat(t,"%")}})})),0)])]):e._e()])}),[],!1,null,"8b3fef4e",null);e.default=component.exports;installComponents(component,{AppCoinsResult:r(309).default})}}]);